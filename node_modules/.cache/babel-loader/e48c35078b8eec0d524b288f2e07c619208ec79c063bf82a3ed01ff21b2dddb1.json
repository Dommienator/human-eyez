{"ast":null,"code":"var _jsxFileName = \"D:\\\\Kazi Strong\\\\HumanEyez\\\\src\\\\pages\\\\PaymentPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useSearchParams, useNavigate } from \"react-router-dom\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { PayPalScriptProvider, PayPalButtons } from \"@paypal/react-paypal-js\";\nimport Header from \"../components/Header\";\nimport Footer from \"../components/Footer\";\nimport { supabase } from \"../services/supabase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst stripePromise = loadStripe(process.env.REACT_APP_STRIPE_PUBLIC_KEY || \"\");\nconst PaymentPage = () => {\n  _s();\n  const [searchParams] = useSearchParams();\n  const [paymentMethod, setPaymentMethod] = useState(null);\n  const [processing, setProcessing] = useState(false);\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\n  const navigate = useNavigate();\n  const orderNumber = searchParams.get(\"order\");\n  const amount = searchParams.get(\"amount\");\n  const handleStripePayment = async () => {\n    setProcessing(true);\n    try {\n      // Call backend to create Stripe checkout session\n      const response = await fetch(\"/api/create-stripe-checkout\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          orderNumber,\n          amount: parseFloat(amount)\n        })\n      });\n      const {\n        sessionId\n      } = await response.json();\n      const stripe = await stripePromise;\n\n      // Redirect to Stripe Checkout\n      const {\n        error\n      } = await stripe.redirectToCheckout({\n        sessionId\n      });\n      if (error) {\n        alert(\"Payment failed: \" + error.message);\n        setProcessing(false);\n      }\n    } catch (error) {\n      console.error(\"Stripe error:\", error);\n      alert(\"Payment failed. Please try again.\");\n      setProcessing(false);\n    }\n  };\n  const handlePayPalApprove = async (data, actions) => {\n    setProcessing(true);\n    try {\n      // Capture the payment\n      const details = await actions.order.capture();\n\n      // Update order status\n      await supabase.from(\"orders\").update({\n        payment_status: \"paid\",\n        status: \"pending\",\n        payment_method: \"paypal\"\n      }).eq(\"order_number\", orderNumber);\n      alert(\"Payment successful!\");\n      navigate(\"/my-orders\");\n    } catch (error) {\n      console.error(\"PayPal error:\", error);\n      alert(\"Payment failed.\");\n      setProcessing(false);\n    }\n  };\n  const handleMpesaPayment = async () => {\n    if (!phoneNumber || phoneNumber.length < 10) {\n      alert(\"Please enter a valid phone number (e.g., 0712345678)\");\n      return;\n    }\n    setProcessing(true);\n    try {\n      const response = await fetch(\"/api/mpesa-stk-push\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          phoneNumber,\n          amount: parseFloat(amount),\n          orderNumber\n        })\n      });\n      const result = await response.json();\n      if (result.success) {\n        alert(\"Check your phone for M-Pesa payment prompt. Enter your PIN to complete payment.\");\n        // Poll for payment status\n        checkMpesaStatus(orderNumber);\n      } else {\n        alert(\"M-Pesa request failed: \" + result.message);\n        setProcessing(false);\n      }\n    } catch (error) {\n      console.error(\"M-Pesa error:\", error);\n      alert(\"M-Pesa payment failed.\");\n      setProcessing(false);\n    }\n  };\n  const checkMpesaStatus = async orderNum => {\n    const checkInterval = setInterval(async () => {\n      const {\n        data\n      } = await supabase.from(\"orders\").select(\"payment_status\").eq(\"order_number\", orderNum).single();\n      if ((data === null || data === void 0 ? void 0 : data.payment_status) === \"paid\") {\n        clearInterval(checkInterval);\n        alert(\"Payment confirmed!\");\n        navigate(\"/my-orders\");\n      }\n    }, 3000); // Check every 3 seconds\n\n    // Stop checking after 2 minutes\n    setTimeout(() => {\n      clearInterval(checkInterval);\n      setProcessing(false);\n    }, 120000);\n  };\n\n  // TEMPORARY: Simulate payment for testing\n  const handleSimulatePayment = async () => {\n    setProcessing(true);\n    setTimeout(async () => {\n      await supabase.from(\"orders\").update({\n        payment_status: \"paid\",\n        status: \"pending\"\n      }).eq(\"order_number\", orderNumber);\n      setProcessing(false);\n      alert(\"Payment simulated successfully!\");\n      navigate(\"/my-orders\");\n    }, 2000);\n  };\n  const styles = {\n    page: {\n      minHeight: \"100vh\",\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    container: {\n      maxWidth: \"700px\",\n      margin: \"3rem auto\",\n      padding: \"0 2rem\",\n      flexGrow: 1\n    },\n    card: {\n      background: \"white\",\n      borderRadius: \"16px\",\n      padding: \"3rem\",\n      boxShadow: \"0 8px 24px rgba(0,0,0,0.1)\"\n    },\n    title: {\n      fontSize: \"2.5rem\",\n      color: \"#5A3A79\",\n      textAlign: \"center\",\n      marginBottom: \"1rem\"\n    },\n    orderInfo: {\n      background: \"#F0E8F8\",\n      padding: \"1.5rem\",\n      borderRadius: \"12px\",\n      marginBottom: \"2rem\"\n    },\n    infoRow: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      marginBottom: \"0.5rem\"\n    },\n    label: {\n      fontWeight: \"600\",\n      color: \"#6b7e85\"\n    },\n    value: {\n      color: \"#404c50\",\n      fontWeight: \"600\"\n    },\n    amount: {\n      fontSize: \"2.5rem\",\n      color: \"#6B4A8A\",\n      fontWeight: \"700\",\n      textAlign: \"center\",\n      marginTop: \"1rem\"\n    },\n    divider: {\n      borderTop: \"2px solid #ddd\",\n      margin: \"1.5rem 0\"\n    },\n    methodsTitle: {\n      fontSize: \"1.3rem\",\n      fontWeight: \"700\",\n      color: \"#5A3A79\",\n      marginBottom: \"1.5rem\",\n      textAlign: \"center\"\n    },\n    methodButtons: {\n      display: \"grid\",\n      gap: \"1rem\",\n      marginBottom: \"2rem\"\n    },\n    methodButton: {\n      padding: \"1.2rem\",\n      border: \"2px solid #ddd\",\n      borderRadius: \"12px\",\n      background: \"white\",\n      cursor: \"pointer\",\n      transition: \"all 0.3s\",\n      display: \"flex\",\n      alignItems: \"center\",\n      gap: \"1rem\",\n      fontSize: \"1.1rem\",\n      fontWeight: \"600\"\n    },\n    methodButtonActive: {\n      borderColor: \"#6B4A8A\",\n      background: \"#F0E8F8\"\n    },\n    methodIcon: {\n      fontSize: \"2rem\"\n    },\n    paymentArea: {\n      marginTop: \"2rem\"\n    },\n    input: {\n      width: \"100%\",\n      padding: \"1rem\",\n      fontSize: \"1rem\",\n      border: \"2px solid #ddd\",\n      borderRadius: \"8px\",\n      marginBottom: \"1rem\"\n    },\n    button: {\n      width: \"100%\",\n      padding: \"1.2rem\",\n      borderRadius: \"30px\",\n      fontSize: \"1.2rem\",\n      fontWeight: \"700\",\n      cursor: \"pointer\",\n      border: \"none\",\n      marginTop: \"1rem\"\n    },\n    primaryButton: {\n      background: \"#6B4A8A\",\n      color: \"white\"\n    },\n    secondaryButton: {\n      background: \"#50ADB5\",\n      color: \"white\"\n    },\n    mpesaButton: {\n      background: \"#00B900\",\n      color: \"white\"\n    },\n    simulateButton: {\n      background: \"#f39c12\",\n      color: \"white\",\n      marginTop: \"2rem\"\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.page,\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.container,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.card,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: styles.title,\n          children: \"Complete Payment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.orderInfo,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.infoRow,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: styles.label,\n              children: \"Order Number:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: styles.value,\n              children: orderNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.divider\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.amount,\n            children: [\"$\", amount]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styles.methodsTitle,\n          children: \"Choose Payment Method\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.methodButtons,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              ...styles.methodButton,\n              ...(paymentMethod === \"stripe\" ? styles.methodButtonActive : {})\n            },\n            onClick: () => setPaymentMethod(\"stripe\"),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: styles.methodIcon,\n              children: \"\\uD83D\\uDCB3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Credit/Debit Card\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: \"0.85rem\",\n                  color: \"#6b7e85\"\n                },\n                children: \"Visa, Mastercard, Amex\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              ...styles.methodButton,\n              ...(paymentMethod === \"paypal\" ? styles.methodButtonActive : {})\n            },\n            onClick: () => setPaymentMethod(\"paypal\"),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: styles.methodIcon,\n              children: \"\\uD83D\\uDCB0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"PayPal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: \"0.85rem\",\n                  color: \"#6b7e85\"\n                },\n                children: \"Pay with PayPal balance or card\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              ...styles.methodButton,\n              ...(paymentMethod === \"mpesa\" ? styles.methodButtonActive : {})\n            },\n            onClick: () => setPaymentMethod(\"mpesa\"),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: styles.methodIcon,\n              children: \"\\uD83D\\uDCF1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"M-Pesa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: \"0.85rem\",\n                  color: \"#6b7e85\"\n                },\n                children: \"Kenya mobile money\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this), paymentMethod === \"stripe\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.paymentArea,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              ...styles.button,\n              ...styles.primaryButton\n            },\n            onClick: handleStripePayment,\n            disabled: processing,\n            children: processing ? \"Processing...\" : \"Pay with Stripe\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 13\n        }, this), paymentMethod === \"paypal\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.paymentArea,\n          children: /*#__PURE__*/_jsxDEV(PayPalScriptProvider, {\n            options: {\n              \"client-id\": process.env.REACT_APP_PAYPAL_CLIENT_ID || \"test\",\n              currency: \"USD\"\n            },\n            children: /*#__PURE__*/_jsxDEV(PayPalButtons, {\n              createOrder: (data, actions) => {\n                return actions.order.create({\n                  purchase_units: [{\n                    amount: {\n                      value: amount\n                    },\n                    description: `HumanEyez Order ${orderNumber}`\n                  }]\n                });\n              },\n              onApprove: handlePayPalApprove,\n              onError: err => {\n                console.error(\"PayPal error:\", err);\n                alert(\"Payment failed\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 13\n        }, this), paymentMethod === \"mpesa\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.paymentArea,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              fontWeight: \"600\",\n              color: \"#5A3A79\",\n              marginBottom: \"0.5rem\",\n              display: \"block\"\n            },\n            children: \"M-Pesa Phone Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            style: styles.input,\n            placeholder: \"0712345678\",\n            value: phoneNumber,\n            onChange: e => setPhoneNumber(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              ...styles.button,\n              ...styles.mpesaButton\n            },\n            onClick: handleMpesaPayment,\n            disabled: processing,\n            children: processing ? \"Waiting for payment...\" : \"Pay with M-Pesa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: \"0.9rem\",\n              color: \"#6b7e85\",\n              marginTop: \"1rem\",\n              textAlign: \"center\"\n            },\n            children: \"You will receive a prompt on your phone to enter your M-Pesa PIN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            ...styles.button,\n            ...styles.simulateButton\n          },\n          onClick: handleSimulatePayment,\n          children: \"\\uD83E\\uDDEA Simulate Payment (Testing Only)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 284,\n    columnNumber: 5\n  }, this);\n};\n_s(PaymentPage, \"0hDEudeHRwsmhjEJbpgwroBcUtM=\", false, function () {\n  return [useSearchParams, useNavigate];\n});\n_c = PaymentPage;\nexport default PaymentPage;\nvar _c;\n$RefreshReg$(_c, \"PaymentPage\");","map":{"version":3,"names":["React","useState","useEffect","useSearchParams","useNavigate","loadStripe","PayPalScriptProvider","PayPalButtons","Header","Footer","supabase","jsxDEV","_jsxDEV","stripePromise","process","env","REACT_APP_STRIPE_PUBLIC_KEY","PaymentPage","_s","searchParams","paymentMethod","setPaymentMethod","processing","setProcessing","phoneNumber","setPhoneNumber","navigate","orderNumber","get","amount","handleStripePayment","response","fetch","method","headers","body","JSON","stringify","parseFloat","sessionId","json","stripe","error","redirectToCheckout","alert","message","console","handlePayPalApprove","data","actions","details","order","capture","from","update","payment_status","status","payment_method","eq","handleMpesaPayment","length","result","success","checkMpesaStatus","orderNum","checkInterval","setInterval","select","single","clearInterval","setTimeout","handleSimulatePayment","styles","page","minHeight","display","flexDirection","container","maxWidth","margin","padding","flexGrow","card","background","borderRadius","boxShadow","title","fontSize","color","textAlign","marginBottom","orderInfo","infoRow","justifyContent","label","fontWeight","value","marginTop","divider","borderTop","methodsTitle","methodButtons","gap","methodButton","border","cursor","transition","alignItems","methodButtonActive","borderColor","methodIcon","paymentArea","input","width","button","primaryButton","secondaryButton","mpesaButton","simulateButton","style","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","options","REACT_APP_PAYPAL_CLIENT_ID","currency","createOrder","create","purchase_units","description","onApprove","onError","err","type","placeholder","onChange","e","target","_c","$RefreshReg$"],"sources":["D:/Kazi Strong/HumanEyez/src/pages/PaymentPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useSearchParams, useNavigate } from \"react-router-dom\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { PayPalScriptProvider, PayPalButtons } from \"@paypal/react-paypal-js\";\r\nimport Header from \"../components/Header\";\r\nimport Footer from \"../components/Footer\";\r\nimport { supabase } from \"../services/supabase\";\r\n\r\nconst stripePromise = loadStripe(process.env.REACT_APP_STRIPE_PUBLIC_KEY || \"\");\r\n\r\nconst PaymentPage = () => {\r\n  const [searchParams] = useSearchParams();\r\n  const [paymentMethod, setPaymentMethod] = useState(null);\r\n  const [processing, setProcessing] = useState(false);\r\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const orderNumber = searchParams.get(\"order\");\r\n  const amount = searchParams.get(\"amount\");\r\n\r\n  const handleStripePayment = async () => {\r\n    setProcessing(true);\r\n\r\n    try {\r\n      // Call backend to create Stripe checkout session\r\n      const response = await fetch(\"/api/create-stripe-checkout\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          orderNumber,\r\n          amount: parseFloat(amount),\r\n        }),\r\n      });\r\n\r\n      const { sessionId } = await response.json();\r\n      const stripe = await stripePromise;\r\n\r\n      // Redirect to Stripe Checkout\r\n      const { error } = await stripe.redirectToCheckout({ sessionId });\r\n\r\n      if (error) {\r\n        alert(\"Payment failed: \" + error.message);\r\n        setProcessing(false);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Stripe error:\", error);\r\n      alert(\"Payment failed. Please try again.\");\r\n      setProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handlePayPalApprove = async (data, actions) => {\r\n    setProcessing(true);\r\n\r\n    try {\r\n      // Capture the payment\r\n      const details = await actions.order.capture();\r\n\r\n      // Update order status\r\n      await supabase\r\n        .from(\"orders\")\r\n        .update({\r\n          payment_status: \"paid\",\r\n          status: \"pending\",\r\n          payment_method: \"paypal\",\r\n        })\r\n        .eq(\"order_number\", orderNumber);\r\n\r\n      alert(\"Payment successful!\");\r\n      navigate(\"/my-orders\");\r\n    } catch (error) {\r\n      console.error(\"PayPal error:\", error);\r\n      alert(\"Payment failed.\");\r\n      setProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleMpesaPayment = async () => {\r\n    if (!phoneNumber || phoneNumber.length < 10) {\r\n      alert(\"Please enter a valid phone number (e.g., 0712345678)\");\r\n      return;\r\n    }\r\n\r\n    setProcessing(true);\r\n\r\n    try {\r\n      const response = await fetch(\"/api/mpesa-stk-push\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          phoneNumber,\r\n          amount: parseFloat(amount),\r\n          orderNumber,\r\n        }),\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        alert(\r\n          \"Check your phone for M-Pesa payment prompt. Enter your PIN to complete payment.\",\r\n        );\r\n        // Poll for payment status\r\n        checkMpesaStatus(orderNumber);\r\n      } else {\r\n        alert(\"M-Pesa request failed: \" + result.message);\r\n        setProcessing(false);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"M-Pesa error:\", error);\r\n      alert(\"M-Pesa payment failed.\");\r\n      setProcessing(false);\r\n    }\r\n  };\r\n\r\n  const checkMpesaStatus = async (orderNum) => {\r\n    const checkInterval = setInterval(async () => {\r\n      const { data } = await supabase\r\n        .from(\"orders\")\r\n        .select(\"payment_status\")\r\n        .eq(\"order_number\", orderNum)\r\n        .single();\r\n\r\n      if (data?.payment_status === \"paid\") {\r\n        clearInterval(checkInterval);\r\n        alert(\"Payment confirmed!\");\r\n        navigate(\"/my-orders\");\r\n      }\r\n    }, 3000); // Check every 3 seconds\r\n\r\n    // Stop checking after 2 minutes\r\n    setTimeout(() => {\r\n      clearInterval(checkInterval);\r\n      setProcessing(false);\r\n    }, 120000);\r\n  };\r\n\r\n  // TEMPORARY: Simulate payment for testing\r\n  const handleSimulatePayment = async () => {\r\n    setProcessing(true);\r\n\r\n    setTimeout(async () => {\r\n      await supabase\r\n        .from(\"orders\")\r\n        .update({\r\n          payment_status: \"paid\",\r\n          status: \"pending\",\r\n        })\r\n        .eq(\"order_number\", orderNumber);\r\n\r\n      setProcessing(false);\r\n      alert(\"Payment simulated successfully!\");\r\n      navigate(\"/my-orders\");\r\n    }, 2000);\r\n  };\r\n\r\n  const styles = {\r\n    page: {\r\n      minHeight: \"100vh\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n    },\r\n    container: {\r\n      maxWidth: \"700px\",\r\n      margin: \"3rem auto\",\r\n      padding: \"0 2rem\",\r\n      flexGrow: 1,\r\n    },\r\n    card: {\r\n      background: \"white\",\r\n      borderRadius: \"16px\",\r\n      padding: \"3rem\",\r\n      boxShadow: \"0 8px 24px rgba(0,0,0,0.1)\",\r\n    },\r\n    title: {\r\n      fontSize: \"2.5rem\",\r\n      color: \"#5A3A79\",\r\n      textAlign: \"center\",\r\n      marginBottom: \"1rem\",\r\n    },\r\n    orderInfo: {\r\n      background: \"#F0E8F8\",\r\n      padding: \"1.5rem\",\r\n      borderRadius: \"12px\",\r\n      marginBottom: \"2rem\",\r\n    },\r\n    infoRow: {\r\n      display: \"flex\",\r\n      justifyContent: \"space-between\",\r\n      marginBottom: \"0.5rem\",\r\n    },\r\n    label: {\r\n      fontWeight: \"600\",\r\n      color: \"#6b7e85\",\r\n    },\r\n    value: {\r\n      color: \"#404c50\",\r\n      fontWeight: \"600\",\r\n    },\r\n    amount: {\r\n      fontSize: \"2.5rem\",\r\n      color: \"#6B4A8A\",\r\n      fontWeight: \"700\",\r\n      textAlign: \"center\",\r\n      marginTop: \"1rem\",\r\n    },\r\n    divider: {\r\n      borderTop: \"2px solid #ddd\",\r\n      margin: \"1.5rem 0\",\r\n    },\r\n    methodsTitle: {\r\n      fontSize: \"1.3rem\",\r\n      fontWeight: \"700\",\r\n      color: \"#5A3A79\",\r\n      marginBottom: \"1.5rem\",\r\n      textAlign: \"center\",\r\n    },\r\n    methodButtons: {\r\n      display: \"grid\",\r\n      gap: \"1rem\",\r\n      marginBottom: \"2rem\",\r\n    },\r\n    methodButton: {\r\n      padding: \"1.2rem\",\r\n      border: \"2px solid #ddd\",\r\n      borderRadius: \"12px\",\r\n      background: \"white\",\r\n      cursor: \"pointer\",\r\n      transition: \"all 0.3s\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      gap: \"1rem\",\r\n      fontSize: \"1.1rem\",\r\n      fontWeight: \"600\",\r\n    },\r\n    methodButtonActive: {\r\n      borderColor: \"#6B4A8A\",\r\n      background: \"#F0E8F8\",\r\n    },\r\n    methodIcon: {\r\n      fontSize: \"2rem\",\r\n    },\r\n    paymentArea: {\r\n      marginTop: \"2rem\",\r\n    },\r\n    input: {\r\n      width: \"100%\",\r\n      padding: \"1rem\",\r\n      fontSize: \"1rem\",\r\n      border: \"2px solid #ddd\",\r\n      borderRadius: \"8px\",\r\n      marginBottom: \"1rem\",\r\n    },\r\n    button: {\r\n      width: \"100%\",\r\n      padding: \"1.2rem\",\r\n      borderRadius: \"30px\",\r\n      fontSize: \"1.2rem\",\r\n      fontWeight: \"700\",\r\n      cursor: \"pointer\",\r\n      border: \"none\",\r\n      marginTop: \"1rem\",\r\n    },\r\n    primaryButton: {\r\n      background: \"#6B4A8A\",\r\n      color: \"white\",\r\n    },\r\n    secondaryButton: {\r\n      background: \"#50ADB5\",\r\n      color: \"white\",\r\n    },\r\n    mpesaButton: {\r\n      background: \"#00B900\",\r\n      color: \"white\",\r\n    },\r\n    simulateButton: {\r\n      background: \"#f39c12\",\r\n      color: \"white\",\r\n      marginTop: \"2rem\",\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div style={styles.page}>\r\n      <Header />\r\n\r\n      <div style={styles.container}>\r\n        <div style={styles.card}>\r\n          <h1 style={styles.title}>Complete Payment</h1>\r\n\r\n          <div style={styles.orderInfo}>\r\n            <div style={styles.infoRow}>\r\n              <span style={styles.label}>Order Number:</span>\r\n              <span style={styles.value}>{orderNumber}</span>\r\n            </div>\r\n            <div style={styles.divider}></div>\r\n            <div style={styles.amount}>${amount}</div>\r\n          </div>\r\n\r\n          <h2 style={styles.methodsTitle}>Choose Payment Method</h2>\r\n\r\n          <div style={styles.methodButtons}>\r\n            <button\r\n              style={{\r\n                ...styles.methodButton,\r\n                ...(paymentMethod === \"stripe\"\r\n                  ? styles.methodButtonActive\r\n                  : {}),\r\n              }}\r\n              onClick={() => setPaymentMethod(\"stripe\")}\r\n            >\r\n              <span style={styles.methodIcon}>ðŸ’³</span>\r\n              <div>\r\n                <div>Credit/Debit Card</div>\r\n                <div style={{ fontSize: \"0.85rem\", color: \"#6b7e85\" }}>\r\n                  Visa, Mastercard, Amex\r\n                </div>\r\n              </div>\r\n            </button>\r\n\r\n            <button\r\n              style={{\r\n                ...styles.methodButton,\r\n                ...(paymentMethod === \"paypal\"\r\n                  ? styles.methodButtonActive\r\n                  : {}),\r\n              }}\r\n              onClick={() => setPaymentMethod(\"paypal\")}\r\n            >\r\n              <span style={styles.methodIcon}>ðŸ’°</span>\r\n              <div>\r\n                <div>PayPal</div>\r\n                <div style={{ fontSize: \"0.85rem\", color: \"#6b7e85\" }}>\r\n                  Pay with PayPal balance or card\r\n                </div>\r\n              </div>\r\n            </button>\r\n\r\n            <button\r\n              style={{\r\n                ...styles.methodButton,\r\n                ...(paymentMethod === \"mpesa\" ? styles.methodButtonActive : {}),\r\n              }}\r\n              onClick={() => setPaymentMethod(\"mpesa\")}\r\n            >\r\n              <span style={styles.methodIcon}>ðŸ“±</span>\r\n              <div>\r\n                <div>M-Pesa</div>\r\n                <div style={{ fontSize: \"0.85rem\", color: \"#6b7e85\" }}>\r\n                  Kenya mobile money\r\n                </div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n\r\n          {paymentMethod === \"stripe\" && (\r\n            <div style={styles.paymentArea}>\r\n              <button\r\n                style={{ ...styles.button, ...styles.primaryButton }}\r\n                onClick={handleStripePayment}\r\n                disabled={processing}\r\n              >\r\n                {processing ? \"Processing...\" : \"Pay with Stripe\"}\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {paymentMethod === \"paypal\" && (\r\n            <div style={styles.paymentArea}>\r\n              <PayPalScriptProvider\r\n                options={{\r\n                  \"client-id\": process.env.REACT_APP_PAYPAL_CLIENT_ID || \"test\",\r\n                  currency: \"USD\",\r\n                }}\r\n              >\r\n                <PayPalButtons\r\n                  createOrder={(data, actions) => {\r\n                    return actions.order.create({\r\n                      purchase_units: [\r\n                        {\r\n                          amount: { value: amount },\r\n                          description: `HumanEyez Order ${orderNumber}`,\r\n                        },\r\n                      ],\r\n                    });\r\n                  }}\r\n                  onApprove={handlePayPalApprove}\r\n                  onError={(err) => {\r\n                    console.error(\"PayPal error:\", err);\r\n                    alert(\"Payment failed\");\r\n                  }}\r\n                />\r\n              </PayPalScriptProvider>\r\n            </div>\r\n          )}\r\n\r\n          {paymentMethod === \"mpesa\" && (\r\n            <div style={styles.paymentArea}>\r\n              <label\r\n                style={{\r\n                  fontWeight: \"600\",\r\n                  color: \"#5A3A79\",\r\n                  marginBottom: \"0.5rem\",\r\n                  display: \"block\",\r\n                }}\r\n              >\r\n                M-Pesa Phone Number\r\n              </label>\r\n              <input\r\n                type=\"tel\"\r\n                style={styles.input}\r\n                placeholder=\"0712345678\"\r\n                value={phoneNumber}\r\n                onChange={(e) => setPhoneNumber(e.target.value)}\r\n              />\r\n              <button\r\n                style={{ ...styles.button, ...styles.mpesaButton }}\r\n                onClick={handleMpesaPayment}\r\n                disabled={processing}\r\n              >\r\n                {processing ? \"Waiting for payment...\" : \"Pay with M-Pesa\"}\r\n              </button>\r\n              <p\r\n                style={{\r\n                  fontSize: \"0.9rem\",\r\n                  color: \"#6b7e85\",\r\n                  marginTop: \"1rem\",\r\n                  textAlign: \"center\",\r\n                }}\r\n              >\r\n                You will receive a prompt on your phone to enter your M-Pesa PIN\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {/* TEMPORARY TESTING BUTTON */}\r\n          <button\r\n            style={{ ...styles.button, ...styles.simulateButton }}\r\n            onClick={handleSimulatePayment}\r\n          >\r\n            ðŸ§ª Simulate Payment (Testing Only)\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}